## Ітэрацыі па масівам і ўласцівасці

Хоць масівы ў JavaScript - аб'екты, няма добрых падставаў дзеля таго каб
выкарыстоўваць [цыкл `for in`](#object.forinloop) для ітэрацыі па масівам.
Фактычна, ёсць шэраг добрых пасдтаў **супраць** гэтага.

> **Заўвага:** масівы JavaScript **не** *асацыятыўныя масівы*. JavaScript мае
> [аб'екты](#object.general) для структуры ключ-значэнне. Але калі асацыятыўныя
> масівы **захоўваюць** парадак, аб'екты - **не**.

Так як цыкл `for in` пералічвае ўсе ўласцівасці якія ёсць у ланцужку прататыпаў,
і таму што адзіны спосаб выключыць гэтыя значэнні - [`hasOwnProperty`](#object.hasownproperty),
ітэрацыя атрымліваецца ў **20 разоў** марудней за звычайны цыкл `for`.

### Ітэрацыя

Для таго каб атрымаць найлепшую прадукцыйнасць у ітэрацыі па масіву, лепш
выкарыстаць класічны цыкл `for`.

    var list = [1, 2, 3, 4, 5, ...... 100000000];
    for(var i = 0, l = list.length; i < l; i++) {
        console.log(list[i]);
    }

У вышэйпрыведзеным прыкладзе ёсць яшчэ адзін прыём, з дапамогай якога можна кэшыць
памер масіва: `l = list.length`.

Негледзячы на тое, што ўласцівасць `length` вызначана ў самім масіве, пошук
гэтай уласцівасці накладывае выдаткі на пошук пры кожнай ітэрацыі цыкла. І хоць
новыя рухавікі JavaScript **могуць** прымяніць аптымізацыю у гэтым выпадку, няма
магчымасці дакладна ведаць - будзе код выкананы на гэтых новых рухавіках, або не.

Фактычна, адсутнасць кэшавання можа зрабіць выкананне цыкла **у два разы больш
марудным** чым з кэшаваным 'length'.

### Уласцівасць `length`

Хоць *гэттэр* уласцівасці `length` проста вяртае колькасць элементаў, што
знаходзяцца у масіве, *сэттэр* можа быць выкарыстаны для **абразання** масіва.

    var arr = [1, 2, 3, 4, 5, 6];
    arr.length = 3;
    arr; // [1, 2, 3]

    arr.length = 6;
    arr.push(4);
    arr; // [1, 2, 3, undefined, undefined, undefined, 4]

Прысвойванне ўласцівасці 'length' меншага значэння абразае масіў. Прысваенне большага
значэнне створыць разражаны масіў.

### У заключэнне

Для лепшай прадукцыйнасці, рэкамендуецца заўсёды выкарыстоўваць звычайны цыкл `for`,
і кэшыць уласціваць `length`. Выкарыстоўванне `for in` для ітэрацыі па масіву -
прыкмета дрэнна напісанага кода схільнага да памылак і дрэннай прадукцыйнасці.
